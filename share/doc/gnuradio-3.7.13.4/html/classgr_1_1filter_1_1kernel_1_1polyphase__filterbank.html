<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>GNU Radio Manual and C++ API Reference: gr::filter::kernel::polyphase_filterbank Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="gnuradio_logo_icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GNU Radio Manual and C++ API Reference
   &#160;<span id="projectnumber">3.7.13.4</span>
   </div>
   <div id="projectbrief">The Free &amp; Open Software Radio Ecosystem</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classgr_1_1filter_1_1kernel_1_1polyphase__filterbank.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classgr_1_1filter_1_1kernel_1_1polyphase__filterbank-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">gr::filter::kernel::polyphase_filterbank Class Reference<div class="ingroups"><a class="el" href="group__block.html">GNU Radio C++ Signal Processing Blocks</a> &raquo; <a class="el" href="group__filter__blk.html">Filters</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Polyphase filterbank parent class.  
 <a href="classgr_1_1filter_1_1kernel_1_1polyphase__filterbank.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="polyphase__filterbank_8h_source.html">gnuradio/filter/polyphase_filterbank.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a669ab183ddc9c2189dc64330153d1652"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1filter_1_1kernel_1_1polyphase__filterbank.html#a669ab183ddc9c2189dc64330153d1652">polyphase_filterbank</a> (unsigned int nfilts, const std::vector&lt; float &gt; &amp;<a class="el" href="classgr_1_1filter_1_1kernel_1_1polyphase__filterbank.html#a8c0ee07a7f6a9b29ea15304818f4d6c2">taps</a>, bool fft_forward=false)</td></tr>
<tr class="separator:a669ab183ddc9c2189dc64330153d1652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b0f4e86549acb0d94ddb89b3ec401c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1filter_1_1kernel_1_1polyphase__filterbank.html#a1b0f4e86549acb0d94ddb89b3ec401c5">~polyphase_filterbank</a> ()</td></tr>
<tr class="separator:a1b0f4e86549acb0d94ddb89b3ec401c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e4ffc4c8892b33bc6cd54c5d3490fd1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1filter_1_1kernel_1_1polyphase__filterbank.html#a3e4ffc4c8892b33bc6cd54c5d3490fd1">set_taps</a> (const std::vector&lt; float &gt; &amp;<a class="el" href="classgr_1_1filter_1_1kernel_1_1polyphase__filterbank.html#a8c0ee07a7f6a9b29ea15304818f4d6c2">taps</a>)</td></tr>
<tr class="separator:a3e4ffc4c8892b33bc6cd54c5d3490fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe0715ff530f696f131a4c6340d77f9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1filter_1_1kernel_1_1polyphase__filterbank.html#abe0715ff530f696f131a4c6340d77f9b">print_taps</a> ()</td></tr>
<tr class="separator:abe0715ff530f696f131a4c6340d77f9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c0ee07a7f6a9b29ea15304818f4d6c2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; float &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1filter_1_1kernel_1_1polyphase__filterbank.html#a8c0ee07a7f6a9b29ea15304818f4d6c2">taps</a> () const </td></tr>
<tr class="separator:a8c0ee07a7f6a9b29ea15304818f4d6c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a7d74ff39379214e92ffb373ced1d8caf"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1filter_1_1kernel_1_1polyphase__filterbank.html#a7d74ff39379214e92ffb373ced1d8caf">d_nfilts</a></td></tr>
<tr class="separator:a7d74ff39379214e92ffb373ced1d8caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a279d297b91f679fdd0c9bc910f84a6ea"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classgr_1_1filter_1_1kernel_1_1fir__filter__ccf.html">kernel::fir_filter_ccf</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1filter_1_1kernel_1_1polyphase__filterbank.html#a279d297b91f679fdd0c9bc910f84a6ea">d_fir_filters</a></td></tr>
<tr class="separator:a279d297b91f679fdd0c9bc910f84a6ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69a379a92e6e0569e7f962134bc35687"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classgr_1_1filter_1_1kernel_1_1fft__filter__ccf.html">kernel::fft_filter_ccf</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1filter_1_1kernel_1_1polyphase__filterbank.html#a69a379a92e6e0569e7f962134bc35687">d_fft_filters</a></td></tr>
<tr class="separator:a69a379a92e6e0569e7f962134bc35687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a470784358e37b5d16f8cb89e21e3cc26"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; float &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1filter_1_1kernel_1_1polyphase__filterbank.html#a470784358e37b5d16f8cb89e21e3cc26">d_taps</a></td></tr>
<tr class="separator:a470784358e37b5d16f8cb89e21e3cc26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd7549b40f5a8174320c418c2413279f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1filter_1_1kernel_1_1polyphase__filterbank.html#afd7549b40f5a8174320c418c2413279f">d_taps_per_filter</a></td></tr>
<tr class="separator:afd7549b40f5a8174320c418c2413279f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a589f47b6cce2f1ab44ec1ef6769022bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgr_1_1fft_1_1fft__complex.html">fft::fft_complex</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1filter_1_1kernel_1_1polyphase__filterbank.html#a589f47b6cce2f1ab44ec1ef6769022bb">d_fft</a></td></tr>
<tr class="separator:a589f47b6cce2f1ab44ec1ef6769022bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Polyphase filterbank parent class. </p>
<p>This block takes in complex inputs and channelizes it to <em>M</em> channels of equal bandwidth. Each of the resulting channels is decimated to the new rate that is the input sampling rate <em>fs</em> divided by the number of channels, <em>M</em>.</p>
<p>The PFB channelizer code takes the taps generated above and builds a set of filters. The set contains <em>M</em> filters and each filter contains ceil(taps.size()/decim) taps. Each tap from the filter prototype is sequentially inserted into the next filter. When all of the input taps are used, the remaining filters in the filterbank are filled out with 0's to make sure each filter has the same number of taps.</p>
<p>Each filter operates using the gr::filter::fir_filter_XXX class of GNU Radio, which takes the input stream at <em>i</em> and performs the inner product calculation to <em>i+(n-1)</em> where <em>n</em> is the number of filter taps. To efficiently handle this in the GNU Radio structure, each filter input must come from its own input stream. So the channelizer must be provided with <em>M</em> streams where the input stream has been deinterleaved. This is most easily done using the <a class="el" href="classgr_1_1blocks_1_1stream__to__streams.html" title="convert a stream of items into a N streams of items ">gr::blocks::stream_to_streams</a> block.</p>
<p>The output is then produced as a vector, where index <em>i</em> in the vector is the next sample from the <em>i</em>th channel. This is most easily handled by sending the output to a <a class="el" href="classgr_1_1blocks_1_1vector__to__streams.html" title="Convert 1 stream of vectors of length N to N streams of items. ">gr::blocks::vector_to_streams</a> block to handle the conversion and passing <em>M</em> streams out.</p>
<p>The input and output formatting is done using a <a class="el" href="classgr_1_1hier__block2.html" title="Hierarchical container class for gr::block&#39;s and gr::hier_block2&#39;s. ">hier_block2</a> called <a class="el" href="classgr_1_1filter_1_1pfb__channelizer__ccf.html" title="Polyphase filterbank channelizer with gr_complex input, gr_complex output and float taps...">pfb_channelizer_ccf</a>. This can take in a single stream and outputs <em>M</em> streams based on the behavior described above.</p>
<p>The filter's taps should be based on the input sampling rate.</p>
<p>For example, using the GNU Radio's firdes utility to building filters, we build a low-pass filter with a sampling rate of <em>fs</em>, a 3-dB bandwidth of <em>BW</em> and a transition bandwidth of <em>TB</em>. We can also specify the out-of-band attenuation to use, <em>ATT</em>, and the filter window function (a Blackman-harris window in this case). The first input is the gain of the filter, which we specify here as unity.</p>
<p><b><em>self._taps = <a class="el" href="classgr_1_1filter_1_1firdes.html#a57c2a9eb8dc61d3740d9eb0e02ebb880" title="Use &quot;window method&quot; to design a low-pass FIR filter. The normalized width of the transition band and ...">filter.firdes.low_pass_2</a>(1, fs, BW, TB, attenuation_dB=ATT, window=<a class="el" href="classgr_1_1filter_1_1firdes.html#a5527e5ee7713055268448c55b1b235a9ac79ce2faa8899fdc01091c3791c5e0d8" title="Blackman-harris window. ">filter.firdes.WIN_BLACKMAN_hARRIS</a>)</em></b></p>
<p>More on the theory of polyphase filterbanks can be found in the following book:</p>
<p><b><em>f. harris, "Multirate Signal Processing for
      Communication Systems," Upper Saddle River, NJ: Prentice Hall, Inc. 2004.</em></b> </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a669ab183ddc9c2189dc64330153d1652"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gr::filter::kernel::polyphase_filterbank::polyphase_filterbank </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nfilts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>taps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fft_forward</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Build the polyphase filterbank decimator. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nfilts</td><td>(unsigned integer) Specifies the number of channels <em>M</em> </td></tr>
    <tr><td class="paramname">taps</td><td>(vector/list of floats) The prototype filter to populate the filterbank. </td></tr>
    <tr><td class="paramname">fft_forward</td><td>(bool) use a forward or inverse FFT (default=false). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1b0f4e86549acb0d94ddb89b3ec401c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gr::filter::kernel::polyphase_filterbank::~polyphase_filterbank </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abe0715ff530f696f131a4c6340d77f9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gr::filter::kernel::polyphase_filterbank::print_taps </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print all of the filterbank taps to screen. </p>

</div>
</div>
<a class="anchor" id="a3e4ffc4c8892b33bc6cd54c5d3490fd1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void gr::filter::kernel::polyphase_filterbank::set_taps </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>taps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Update the filterbank's filter taps from a prototype filter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taps</td><td>(vector/list of floats) The prototype filter to populate the filterbank. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8c0ee07a7f6a9b29ea15304818f4d6c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;float&gt; &gt; gr::filter::kernel::polyphase_filterbank::taps </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return a vector&lt;vector&lt;&gt;&gt; of the filterbank taps </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a589f47b6cce2f1ab44ec1ef6769022bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgr_1_1fft_1_1fft__complex.html">fft::fft_complex</a>* gr::filter::kernel::polyphase_filterbank::d_fft</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a69a379a92e6e0569e7f962134bc35687"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classgr_1_1filter_1_1kernel_1_1fft__filter__ccf.html">kernel::fft_filter_ccf</a>*&gt; gr::filter::kernel::polyphase_filterbank::d_fft_filters</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a279d297b91f679fdd0c9bc910f84a6ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classgr_1_1filter_1_1kernel_1_1fir__filter__ccf.html">kernel::fir_filter_ccf</a>*&gt; gr::filter::kernel::polyphase_filterbank::d_fir_filters</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7d74ff39379214e92ffb373ced1d8caf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int gr::filter::kernel::polyphase_filterbank::d_nfilts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a470784358e37b5d16f8cb89e21e3cc26"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt;float&gt; &gt; gr::filter::kernel::polyphase_filterbank::d_taps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afd7549b40f5a8174320c418c2413279f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int gr::filter::kernel::polyphase_filterbank::d_taps_per_filter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="polyphase__filterbank_8h_source.html">polyphase_filterbank.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacegr.html">gr</a></li><li class="navelem"><a class="el" href="namespacegr_1_1filter.html">filter</a></li><li class="navelem"><a class="el" href="namespacegr_1_1filter_1_1kernel.html">kernel</a></li><li class="navelem"><a class="el" href="classgr_1_1filter_1_1kernel_1_1polyphase__filterbank.html">polyphase_filterbank</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
