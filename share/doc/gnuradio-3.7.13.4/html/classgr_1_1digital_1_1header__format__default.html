<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>GNU Radio Manual and C++ API Reference: gr::digital::header_format_default Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="gnuradio_logo_icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GNU Radio Manual and C++ API Reference
   &#160;<span id="projectnumber">3.7.13.4</span>
   </div>
   <div id="projectbrief">The Free &amp; Open Software Radio Ecosystem</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classgr_1_1digital_1_1header__format__default.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classgr_1_1digital_1_1header__format__default-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">gr::digital::header_format_default Class Reference<div class="ingroups"><a class="el" href="group__block.html">GNU Radio C++ Signal Processing Blocks</a> &raquo; <a class="el" href="group__packet__operators__blk.html">Packet/Frame Operators</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Default header formatter for PDU formatting.  
 <a href="classgr_1_1digital_1_1header__format__default.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="header__format__default_8h_source.html">gnuradio/digital/header_format_default.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af3973a7899b82cd59dde82c0fae9351e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#af3973a7899b82cd59dde82c0fae9351e">header_format_default</a> (const std::string &amp;<a class="el" href="classgr_1_1digital_1_1header__format__default.html#afa0986a013a2fab20ba05830dfa02f90">access_code</a>, int <a class="el" href="classgr_1_1digital_1_1header__format__default.html#a647b1224cd6dcb95e257344c8ed0e7aa">threshold</a>, int bps)</td></tr>
<tr class="separator:af3973a7899b82cd59dde82c0fae9351e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9448806c2e41d16657336f122ee4f78d"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#a9448806c2e41d16657336f122ee4f78d">~header_format_default</a> ()</td></tr>
<tr class="separator:a9448806c2e41d16657336f122ee4f78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aab317253c30524d129f7a6c084432d"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#a2aab317253c30524d129f7a6c084432d">format</a> (int nbytes_in, const unsigned char *input, <a class="el" href="namespacepmt.html#ab4b70d9293452eb74dd07c670e6811fa">pmt::pmt_t</a> &amp;output, <a class="el" href="namespacepmt.html#ab4b70d9293452eb74dd07c670e6811fa">pmt::pmt_t</a> &amp;info)</td></tr>
<tr class="separator:a2aab317253c30524d129f7a6c084432d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a316832ee7e96720547956c0ae889aba7"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#a316832ee7e96720547956c0ae889aba7">parse</a> (int nbits_in, const unsigned char *input, std::vector&lt; <a class="el" href="namespacepmt.html#ab4b70d9293452eb74dd07c670e6811fa">pmt::pmt_t</a> &gt; &amp;info, int &amp;nbits_processed)</td></tr>
<tr class="separator:a316832ee7e96720547956c0ae889aba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cc92b75fc8c766c0240989d6dcdd983"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#a4cc92b75fc8c766c0240989d6dcdd983">header_nbits</a> () const </td></tr>
<tr class="separator:a4cc92b75fc8c766c0240989d6dcdd983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5c71fef195772a38c94299d4e280ee0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#af5c71fef195772a38c94299d4e280ee0">set_access_code</a> (const std::string &amp;<a class="el" href="classgr_1_1digital_1_1header__format__default.html#afa0986a013a2fab20ba05830dfa02f90">access_code</a>)</td></tr>
<tr class="separator:af5c71fef195772a38c94299d4e280ee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa0986a013a2fab20ba05830dfa02f90"><td class="memItemLeft" align="right" valign="top">unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#afa0986a013a2fab20ba05830dfa02f90">access_code</a> () const </td></tr>
<tr class="separator:afa0986a013a2fab20ba05830dfa02f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a21951e500dcb3c0fd1875f9d7dcad4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#a8a21951e500dcb3c0fd1875f9d7dcad4">set_threshold</a> (unsigned int thresh=0)</td></tr>
<tr class="separator:a8a21951e500dcb3c0fd1875f9d7dcad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a647b1224cd6dcb95e257344c8ed0e7aa"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#a647b1224cd6dcb95e257344c8ed0e7aa">threshold</a> () const </td></tr>
<tr class="separator:a647b1224cd6dcb95e257344c8ed0e7aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgr_1_1digital_1_1header__format__base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgr_1_1digital_1_1header__format__base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgr_1_1digital_1_1header__format__base.html">gr::digital::header_format_base</a></td></tr>
<tr class="memitem:ac0504f677b7506f9acc2b204f8fbea75 inherit pub_methods_classgr_1_1digital_1_1header__format__base"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__base.html#ac0504f677b7506f9acc2b204f8fbea75">header_format_base</a> ()</td></tr>
<tr class="separator:ac0504f677b7506f9acc2b204f8fbea75 inherit pub_methods_classgr_1_1digital_1_1header__format__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab47c2e30885850d805a9854345b630f5 inherit pub_methods_classgr_1_1digital_1_1header__format__base"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__base.html#ab47c2e30885850d805a9854345b630f5">~header_format_base</a> ()</td></tr>
<tr class="separator:ab47c2e30885850d805a9854345b630f5 inherit pub_methods_classgr_1_1digital_1_1header__format__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a7b2939707146f2b28d7e91e04103c2 inherit pub_methods_classgr_1_1digital_1_1header__format__base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgr_1_1digital_1_1header__format__base.html#a5c51fe5ff7b1e8bf3f5169b388ab771b">sptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__base.html#a5a7b2939707146f2b28d7e91e04103c2">base</a> ()</td></tr>
<tr class="separator:a5a7b2939707146f2b28d7e91e04103c2 inherit pub_methods_classgr_1_1digital_1_1header__format__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba944a279dc29a7ec716f9a7cc36348b inherit pub_methods_classgr_1_1digital_1_1header__format__base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgr_1_1digital_1_1header__format__base.html#a5c51fe5ff7b1e8bf3f5169b388ab771b">sptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__base.html#aba944a279dc29a7ec716f9a7cc36348b">formatter</a> ()</td></tr>
<tr class="separator:aba944a279dc29a7ec716f9a7cc36348b inherit pub_methods_classgr_1_1digital_1_1header__format__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62bfba430c097b94db6d9a55e581b04b inherit pub_methods_classgr_1_1digital_1_1header__format__base"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__base.html#a62bfba430c097b94db6d9a55e581b04b">header_nbytes</a> () const </td></tr>
<tr class="separator:a62bfba430c097b94db6d9a55e581b04b inherit pub_methods_classgr_1_1digital_1_1header__format__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a521928cf87a8400725c15a0c8e3b6924"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classgr_1_1digital_1_1header__format__base.html#a5c51fe5ff7b1e8bf3f5169b388ab771b">sptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#a521928cf87a8400725c15a0c8e3b6924">make</a> (const std::string &amp;<a class="el" href="classgr_1_1digital_1_1header__format__default.html#afa0986a013a2fab20ba05830dfa02f90">access_code</a>, int <a class="el" href="classgr_1_1digital_1_1header__format__default.html#a647b1224cd6dcb95e257344c8ed0e7aa">threshold</a>, int bps=1)</td></tr>
<tr class="separator:a521928cf87a8400725c15a0c8e3b6924"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a4d9f6a5b3ccff4af4ef8ca346667d4c5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#a4d9f6a5b3ccff4af4ef8ca346667d4c5">enter_have_sync</a> ()</td></tr>
<tr class="memdesc:a4d9f6a5b3ccff4af4ef8ca346667d4c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access code found, start getting the header.  <a href="#a4d9f6a5b3ccff4af4ef8ca346667d4c5">More...</a><br /></td></tr>
<tr class="separator:a4d9f6a5b3ccff4af4ef8ca346667d4c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a421ae7ce17a864b9aa02b4ac2929ea81"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#a421ae7ce17a864b9aa02b4ac2929ea81">enter_have_header</a> (int payload_len)</td></tr>
<tr class="memdesc:a421ae7ce17a864b9aa02b4ac2929ea81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header found, setup for pulling in the hard decision bits.  <a href="#a421ae7ce17a864b9aa02b4ac2929ea81">More...</a><br /></td></tr>
<tr class="separator:a421ae7ce17a864b9aa02b4ac2929ea81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ec381bc1d438a9d0bb7fc082bd7a1f9"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#a4ec381bc1d438a9d0bb7fc082bd7a1f9">header_ok</a> ()</td></tr>
<tr class="memdesc:a4ec381bc1d438a9d0bb7fc082bd7a1f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify that the header is valid.  <a href="#a4ec381bc1d438a9d0bb7fc082bd7a1f9">More...</a><br /></td></tr>
<tr class="separator:a4ec381bc1d438a9d0bb7fc082bd7a1f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adca94d03e79f529e86c48617058a50f3"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#adca94d03e79f529e86c48617058a50f3">header_payload</a> ()</td></tr>
<tr class="separator:adca94d03e79f529e86c48617058a50f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classgr_1_1digital_1_1header__format__base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classgr_1_1digital_1_1header__format__base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classgr_1_1digital_1_1header__format__base.html">gr::digital::header_format_base</a></td></tr>
<tr class="memitem:aa3e7d6bb51dab765439a53123da36061 inherit pro_methods_classgr_1_1digital_1_1header__format__base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__base.html#aa3e7d6bb51dab765439a53123da36061">enter_search</a> ()</td></tr>
<tr class="memdesc:aa3e7d6bb51dab765439a53123da36061 inherit pro_methods_classgr_1_1digital_1_1header__format__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enter Search state of the state machine to find the access code.  <a href="#aa3e7d6bb51dab765439a53123da36061">More...</a><br /></td></tr>
<tr class="separator:aa3e7d6bb51dab765439a53123da36061 inherit pro_methods_classgr_1_1digital_1_1header__format__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ae6a83f256705b2dcd0f7da972cfc8f53"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#ae6a83f256705b2dcd0f7da972cfc8f53">d_access_code</a></td></tr>
<tr class="memdesc:ae6a83f256705b2dcd0f7da972cfc8f53"><td class="mdescLeft">&#160;</td><td class="mdescRight">register to hold the access code  <a href="#ae6a83f256705b2dcd0f7da972cfc8f53">More...</a><br /></td></tr>
<tr class="separator:ae6a83f256705b2dcd0f7da972cfc8f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a106909b7bc602d0e33102193d8a7de63"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#a106909b7bc602d0e33102193d8a7de63">d_access_code_len</a></td></tr>
<tr class="memdesc:a106909b7bc602d0e33102193d8a7de63"><td class="mdescLeft">&#160;</td><td class="mdescRight">length in bits of the access code  <a href="#a106909b7bc602d0e33102193d8a7de63">More...</a><br /></td></tr>
<tr class="separator:a106909b7bc602d0e33102193d8a7de63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e1a41342ea34aece31bfb536d72b8fb"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#a2e1a41342ea34aece31bfb536d72b8fb">d_bps</a></td></tr>
<tr class="memdesc:a2e1a41342ea34aece31bfb536d72b8fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">bits/sec of payload modulation  <a href="#a2e1a41342ea34aece31bfb536d72b8fb">More...</a><br /></td></tr>
<tr class="separator:a2e1a41342ea34aece31bfb536d72b8fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1d05edf242fd4f9afc33b7dfde8f8b2"><td class="memItemLeft" align="right" valign="top">unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#ab1d05edf242fd4f9afc33b7dfde8f8b2">d_data_reg</a></td></tr>
<tr class="memdesc:ab1d05edf242fd4f9afc33b7dfde8f8b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">used to look for access_code  <a href="#ab1d05edf242fd4f9afc33b7dfde8f8b2">More...</a><br /></td></tr>
<tr class="separator:ab1d05edf242fd4f9afc33b7dfde8f8b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80c95f810309c1c2c002c13c7bf09014"><td class="memItemLeft" align="right" valign="top">unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#a80c95f810309c1c2c002c13c7bf09014">d_mask</a></td></tr>
<tr class="separator:a80c95f810309c1c2c002c13c7bf09014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac433e0b39ded27be1761acbf6bd3b27c"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#ac433e0b39ded27be1761acbf6bd3b27c">d_threshold</a></td></tr>
<tr class="memdesc:ac433e0b39ded27be1761acbf6bd3b27c"><td class="mdescLeft">&#160;</td><td class="mdescRight">how many bits may be wrong in sync vector  <a href="#ac433e0b39ded27be1761acbf6bd3b27c">More...</a><br /></td></tr>
<tr class="separator:ac433e0b39ded27be1761acbf6bd3b27c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc8c47c589bf728f8521fe72077b371a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#abc8c47c589bf728f8521fe72077b371a">d_pkt_len</a></td></tr>
<tr class="memdesc:abc8c47c589bf728f8521fe72077b371a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length of the packet to put into the output buffer.  <a href="#abc8c47c589bf728f8521fe72077b371a">More...</a><br /></td></tr>
<tr class="separator:abc8c47c589bf728f8521fe72077b371a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af024044a5b4a6a43d0975eae00327124"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#af024044a5b4a6a43d0975eae00327124">d_pkt_count</a></td></tr>
<tr class="memdesc:af024044a5b4a6a43d0975eae00327124"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of bytes bits already received.  <a href="#af024044a5b4a6a43d0975eae00327124">More...</a><br /></td></tr>
<tr class="separator:af024044a5b4a6a43d0975eae00327124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b28410d6baab5fd8e626bbe35cde44c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__default.html#a3b28410d6baab5fd8e626bbe35cde44c">d_nbits</a></td></tr>
<tr class="memdesc:a3b28410d6baab5fd8e626bbe35cde44c"><td class="mdescLeft">&#160;</td><td class="mdescRight">num bits processed since reset  <a href="#a3b28410d6baab5fd8e626bbe35cde44c">More...</a><br /></td></tr>
<tr class="separator:a3b28410d6baab5fd8e626bbe35cde44c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classgr_1_1digital_1_1header__format__base"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classgr_1_1digital_1_1header__format__base')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classgr_1_1digital_1_1header__format__base.html">gr::digital::header_format_base</a></td></tr>
<tr class="memitem:a68188f0d090ed7714601cecfa9db8a50 inherit pro_attribs_classgr_1_1digital_1_1header__format__base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgr_1_1digital_1_1header__format__base.html#a75e1a71f4ae157073a8430dcf247a84c">state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__base.html#a68188f0d090ed7714601cecfa9db8a50">d_state</a></td></tr>
<tr class="memdesc:a68188f0d090ed7714601cecfa9db8a50 inherit pro_attribs_classgr_1_1digital_1_1header__format__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">state of the state machine  <a href="#a68188f0d090ed7714601cecfa9db8a50">More...</a><br /></td></tr>
<tr class="separator:a68188f0d090ed7714601cecfa9db8a50 inherit pro_attribs_classgr_1_1digital_1_1header__format__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a215bc24b277bb10c79308fdf1503e40e inherit pro_attribs_classgr_1_1digital_1_1header__format__base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgr_1_1digital_1_1header__buffer.html">header_buffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__base.html#a215bc24b277bb10c79308fdf1503e40e">d_hdr_reg</a></td></tr>
<tr class="memdesc:a215bc24b277bb10c79308fdf1503e40e inherit pro_attribs_classgr_1_1digital_1_1header__format__base"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classgr_1_1digital_1_1header__buffer.html" title="Helper class for handling payload headers. ">header_buffer</a> object to hold header bits  <a href="#a215bc24b277bb10c79308fdf1503e40e">More...</a><br /></td></tr>
<tr class="separator:a215bc24b277bb10c79308fdf1503e40e inherit pro_attribs_classgr_1_1digital_1_1header__format__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07a45e28050b53bb8f49e7e6e3c82399 inherit pro_attribs_classgr_1_1digital_1_1header__format__base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacepmt.html#ab4b70d9293452eb74dd07c670e6811fa">pmt::pmt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__base.html#a07a45e28050b53bb8f49e7e6e3c82399">d_info</a></td></tr>
<tr class="memdesc:a07a45e28050b53bb8f49e7e6e3c82399 inherit pro_attribs_classgr_1_1digital_1_1header__format__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">info captured from the header  <a href="#a07a45e28050b53bb8f49e7e6e3c82399">More...</a><br /></td></tr>
<tr class="separator:a07a45e28050b53bb8f49e7e6e3c82399 inherit pro_attribs_classgr_1_1digital_1_1header__format__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dbf3bde87823470f48819db89e132d5 inherit pro_attribs_classgr_1_1digital_1_1header__format__base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacegr.html#a22e664a7b67862256cde054f5b4f530d">gr::logger_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__base.html#a1dbf3bde87823470f48819db89e132d5">d_logger</a></td></tr>
<tr class="separator:a1dbf3bde87823470f48819db89e132d5 inherit pro_attribs_classgr_1_1digital_1_1header__format__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b9d68d2bbe2150a467a1b033c94f0f3 inherit pro_attribs_classgr_1_1digital_1_1header__format__base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacegr.html#a22e664a7b67862256cde054f5b4f530d">gr::logger_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__base.html#a0b9d68d2bbe2150a467a1b033c94f0f3">d_debug_logger</a></td></tr>
<tr class="separator:a0b9d68d2bbe2150a467a1b033c94f0f3 inherit pro_attribs_classgr_1_1digital_1_1header__format__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classgr_1_1digital_1_1header__format__base"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classgr_1_1digital_1_1header__format__base')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classgr_1_1digital_1_1header__format__base.html">gr::digital::header_format_base</a></td></tr>
<tr class="memitem:a5c51fe5ff7b1e8bf3f5169b388ab771b inherit pub_types_classgr_1_1digital_1_1header__format__base"><td class="memItemLeft" align="right" valign="top">typedef boost::shared_ptr&lt; <a class="el" href="classgr_1_1digital_1_1header__format__base.html">header_format_base</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__base.html#a5c51fe5ff7b1e8bf3f5169b388ab771b">sptr</a></td></tr>
<tr class="separator:a5c51fe5ff7b1e8bf3f5169b388ab771b inherit pub_types_classgr_1_1digital_1_1header__format__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_types_classgr_1_1digital_1_1header__format__base"><td colspan="2" onclick="javascript:toggleInherit('pro_types_classgr_1_1digital_1_1header__format__base')"><img src="closed.png" alt="-"/>&#160;Protected Types inherited from <a class="el" href="classgr_1_1digital_1_1header__format__base.html">gr::digital::header_format_base</a></td></tr>
<tr class="memitem:a75e1a71f4ae157073a8430dcf247a84c inherit pro_types_classgr_1_1digital_1_1header__format__base"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgr_1_1digital_1_1header__format__base.html#a75e1a71f4ae157073a8430dcf247a84c">state_t</a> { <a class="el" href="classgr_1_1digital_1_1header__format__base.html#a75e1a71f4ae157073a8430dcf247a84ca16dfc49f94e86da45f2ee72a6fd5545d">STATE_SYNC_SEARCH</a>, 
<a class="el" href="classgr_1_1digital_1_1header__format__base.html#a75e1a71f4ae157073a8430dcf247a84caea34dac0667ecb2b45a3984073e237d1">STATE_HAVE_SYNC</a>
 }</td></tr>
<tr class="separator:a75e1a71f4ae157073a8430dcf247a84c inherit pro_types_classgr_1_1digital_1_1header__format__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Default header formatter for PDU formatting. </p>
<p>Used to handle the default packet header.</p>
<p>See the parent class <a class="el" href="classgr_1_1digital_1_1header__format__base.html" title="Base header formatter class. ">header_format_base</a> for details of how these classes operate.</p>
<p>The default header created in this base class consists of an access code and the packet length. The length is encoded as a 16-bit value repeated twice:</p>
<pre class="fragment">  | access code | hdr | payload |
</pre><p>Where the access code is &lt;= 64 bits and hdr is:</p>
<pre class="fragment">  |  0 -- 15 | 16 -- 31 |
  | pkt len  | pkt len  |
</pre><p>The access code and header are formatted for network byte order.</p>
<p>This header generator does not calculate or append a CRC to the packet. Use the CRC32 Async block for that before adding the header. The header's length will then measure the payload plus the CRC length (4 bytes for a CRC32).</p>
<p>The default header parser produces a PMT dictionary that contains the following keys. All formatter blocks MUST produce these two values in any dictionary.</p>
<ul>
<li>"payload symbols": the number of symbols in the payload. The payload decoder will have to know how this relates to the number of bits received. This block knows nothing about the payload modulation or the number of bits/symbol. Use the <a class="el" href="classgr_1_1digital_1_1header__format__counter.html" title="Header formatter that adds the payload bits/symbol format and a packet number counter. ">gr::digital::header_format_counter</a> for that purpose.</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classgr_1_1digital_1_1header__format__counter.html" title="Header formatter that adds the payload bits/symbol format and a packet number counter. ">header_format_counter</a> </dd>
<dd>
<a class="el" href="classgr_1_1digital_1_1header__format__crc.html" title="Header formatter that includes the payload length, packet number, and a CRC check on the header...">header_format_crc</a> </dd>
<dd>
<a class="el" href="classgr_1_1digital_1_1header__format__ofdm.html" title="Header formatter that includes the payload length, packet number, and a CRC check on the header...">header_format_ofdm</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af3973a7899b82cd59dde82c0fae9351e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gr::digital::header_format_default::header_format_default </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>access_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9448806c2e41d16657336f122ee4f78d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual gr::digital::header_format_default::~header_format_default </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="afa0986a013a2fab20ba05830dfa02f90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long gr::digital::header_format_default::access_code </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the formatted access code as a 64-bit register. </p>

</div>
</div>
<a class="anchor" id="a421ae7ce17a864b9aa02b4ac2929ea81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void gr::digital::header_format_default::enter_have_header </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>payload_len</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Header found, setup for pulling in the hard decision bits. </p>

<p>Reimplemented from <a class="el" href="classgr_1_1digital_1_1header__format__base.html#a9680b0ad5fa7d472dcef59a60ec91b4c">gr::digital::header_format_base</a>.</p>

</div>
</div>
<a class="anchor" id="a4d9f6a5b3ccff4af4ef8ca346667d4c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void gr::digital::header_format_default::enter_have_sync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Access code found, start getting the header. </p>

<p>Reimplemented from <a class="el" href="classgr_1_1digital_1_1header__format__base.html#a404596256ca742f4b3e6c11b001e0490">gr::digital::header_format_base</a>.</p>

</div>
</div>
<a class="anchor" id="a2aab317253c30524d129f7a6c084432d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool gr::digital::header_format_default::format </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbytes_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacepmt.html#ab4b70d9293452eb74dd07c670e6811fa">pmt::pmt_t</a> &amp;&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacepmt.html#ab4b70d9293452eb74dd07c670e6811fa">pmt::pmt_t</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a header from the access code and packet length and creates an output header as a PMT vector in the form:</p>
<pre class="fragment">  | access code | pkt len | pkt len |
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nbytes_in</td><td>The length (in bytes) of the <code>input</code> payload </td></tr>
    <tr><td class="paramname">input</td><td>An array of unsigned chars of the packet payload </td></tr>
    <tr><td class="paramname">output</td><td>A pmt::u8vector with the new header prepended onto the input data. </td></tr>
    <tr><td class="paramname">info</td><td>A pmt::dict containing meta data and info about the PDU (generally from the metadata portion of the input PDU). Data can be extracted from this for the header formatting or inserted. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classgr_1_1digital_1_1header__format__base.html#a474a23d04b7f43dee207cc4a56a433dc">gr::digital::header_format_base</a>.</p>

<p>Reimplemented in <a class="el" href="classgr_1_1digital_1_1header__format__counter.html#ad007a2f99cc378a43e8b9f487c827cf9">gr::digital::header_format_counter</a>.</p>

</div>
</div>
<a class="anchor" id="a4cc92b75fc8c766c0240989d6dcdd983"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t gr::digital::header_format_default::header_nbits </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the length of the formatted header in bits. </p>

<p>Implements <a class="el" href="classgr_1_1digital_1_1header__format__base.html#a2a29bbba93657362cb030dae2ca44fb9">gr::digital::header_format_base</a>.</p>

<p>Reimplemented in <a class="el" href="classgr_1_1digital_1_1header__format__counter.html#af2ebdcb1b223e97f3d9a081ddc9613fd">gr::digital::header_format_counter</a>.</p>

</div>
</div>
<a class="anchor" id="a4ec381bc1d438a9d0bb7fc082bd7a1f9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool gr::digital::header_format_default::header_ok </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Verify that the header is valid. </p>

<p>Implements <a class="el" href="classgr_1_1digital_1_1header__format__base.html#a1bf6fe4f690b6484ff95b0f3b6facd57">gr::digital::header_format_base</a>.</p>

<p>Reimplemented in <a class="el" href="classgr_1_1digital_1_1header__format__counter.html#a53f6e8e2c37a90a00606d3c44a36dd92">gr::digital::header_format_counter</a>.</p>

</div>
</div>
<a class="anchor" id="adca94d03e79f529e86c48617058a50f3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int gr::digital::header_format_default::header_payload </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get info from the header; return payload length and package rest of data in d_info dictionary. </p>

<p>Implements <a class="el" href="classgr_1_1digital_1_1header__format__base.html#a56f72e4249334964b941a96663221d10">gr::digital::header_format_base</a>.</p>

<p>Reimplemented in <a class="el" href="classgr_1_1digital_1_1header__format__counter.html#a6d288a5a096bf434267b0c3500f07b33">gr::digital::header_format_counter</a>.</p>

</div>
</div>
<a class="anchor" id="a521928cf87a8400725c15a0c8e3b6924"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classgr_1_1digital_1_1header__format__base.html#a5c51fe5ff7b1e8bf3f5169b388ab771b">sptr</a> gr::digital::header_format_default::make </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>access_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bps</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Factory to create an async packet header formatter; returns an sptr to the object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">access_code</td><td>An access code that is used to find and synchronize the start of a packet. Used in the parser and in other blocks like a corr_est block that helps trigger the receiver. Can be up to 64-bits long. </td></tr>
    <tr><td class="paramname">threshold</td><td>How many bits can be wrong in the access code and still count as correct. </td></tr>
    <tr><td class="paramname">bps</td><td>The number of bits/second used in the payload's modulator. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a316832ee7e96720547956c0ae889aba7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool gr::digital::header_format_default::parse </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbits_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespacepmt.html#ab4b70d9293452eb74dd07c670e6811fa">pmt::pmt_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>nbits_processed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Parses a header of the form:</p>
<pre class="fragment">  | access code | pkt len | pkt len | payload |
</pre><p>This is implemented as a state machine that starts off searching for the access code. Once found, the access code is used to find the start of the packet and the following header. This default header encodes the length of the payload a 16 bit integer twice. The state machine finds the header and checks that both payload length values are the same. It then goes into its final state that reads in the payload (based on the payload length) and produces a payload as a PMT u8 vector of packed bytes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nbits_in</td><td>The number of bits in the input array. </td></tr>
    <tr><td class="paramname">input</td><td>The input as hard decision bits. </td></tr>
    <tr><td class="paramname">info</td><td>A vector of pmt::dicts to hold any meta data or info about the PDU. When parsing the header, the formatter can add info from the header into this dict. Each packet has a single PMT dictionary of info, so the vector length is the number of packets received extracted during one call to this parser function. </td></tr>
    <tr><td class="paramname">nbits_processed</td><td>Number of input bits actually processed; If all goes well, this is nbits_in. A premature return after a bad header could be less than this. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classgr_1_1digital_1_1header__format__base.html#af1eecb5bc63e1186a08f001db78a39ba">gr::digital::header_format_base</a>.</p>

</div>
</div>
<a class="anchor" id="af5c71fef195772a38c94299d4e280ee0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gr::digital::header_format_default::set_access_code </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>access_code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the access code. Must be a string of 1's and 0's and &lt;= 64 bits. </p>

</div>
</div>
<a class="anchor" id="a8a21951e500dcb3c0fd1875f9d7dcad4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gr::digital::header_format_default::set_threshold </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>thresh</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the threshold for number of access code bits can be in error before detection. Defaults to 0. </p>

</div>
</div>
<a class="anchor" id="a647b1224cd6dcb95e257344c8ed0e7aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int gr::digital::header_format_default::threshold </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns threshold value for access code detection. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ae6a83f256705b2dcd0f7da972cfc8f53"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t gr::digital::header_format_default::d_access_code</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>register to hold the access code </p>

</div>
</div>
<a class="anchor" id="a106909b7bc602d0e33102193d8a7de63"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t gr::digital::header_format_default::d_access_code_len</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>length in bits of the access code </p>

</div>
</div>
<a class="anchor" id="a2e1a41342ea34aece31bfb536d72b8fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t gr::digital::header_format_default::d_bps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>bits/sec of payload modulation </p>

</div>
</div>
<a class="anchor" id="ab1d05edf242fd4f9afc33b7dfde8f8b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long gr::digital::header_format_default::d_data_reg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>used to look for access_code </p>

</div>
</div>
<a class="anchor" id="a80c95f810309c1c2c002c13c7bf09014"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long gr::digital::header_format_default::d_mask</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>masks access_code bits (top N bits are set where N is the number of bits in the access code) </p>

</div>
</div>
<a class="anchor" id="a3b28410d6baab5fd8e626bbe35cde44c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int gr::digital::header_format_default::d_nbits</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>num bits processed since reset </p>

</div>
</div>
<a class="anchor" id="af024044a5b4a6a43d0975eae00327124"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int gr::digital::header_format_default::d_pkt_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of bytes bits already received. </p>

</div>
</div>
<a class="anchor" id="abc8c47c589bf728f8521fe72077b371a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int gr::digital::header_format_default::d_pkt_len</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Length of the packet to put into the output buffer. </p>

</div>
</div>
<a class="anchor" id="ac433e0b39ded27be1761acbf6bd3b27c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int gr::digital::header_format_default::d_threshold</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>how many bits may be wrong in sync vector </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="header__format__default_8h_source.html">header_format_default.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacegr.html">gr</a></li><li class="navelem"><a class="el" href="namespacegr_1_1digital.html">digital</a></li><li class="navelem"><a class="el" href="classgr_1_1digital_1_1header__format__default.html">header_format_default</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
